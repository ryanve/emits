/*!
 * energy 0.7.1+201509080043
 * https://github.com/ryanve/energy
 * @license MIT
 */
!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c():a[b]=c()}(this,"energy",function(){function a(a,b){for(var c in b)void 0===a[c]&&(a[c]=b[c]);return a}function b(){this[m]={}}function c(a){return a instanceof b?a[p]():new b}function d(a,b,c,d){var e=a&&a.length,f=0;for(d=void 0===d?i:d;e>f&&d!==a[f++].apply(b,c););return f}function e(a,b,c){a[b]=l.call(this,b)&&this[b]||c}function f(a,b){return a===b||!!a&&a[n]===b}function g(a,b,c){c>>=0;for(var d=a.length;d--&&(!f(a[d],b)||!a.splice(d,1)||--c););}var h=c.prototype=b.prototype,i={},j=[],k=j.slice,l=i.hasOwnProperty,m="_events",n="_origin",o="emit",p="init",q="listeners",r=function(a){return a instanceof Array&&a};return c.to=function(b){return a(b,this.call())},h.to=function(b){return a(b,this),this},h[p]=function(){return e(this,m,{}),this},h[o]=function(a){var b=k.call(arguments,1),c=d(this[q](a),this,b);return c},h[q]=function(a){if(null==a)throw new TypeError("@listeners");return this[m][a]=r(this[m][a])||[]},h.clone=function(){var c=new b(this);return a(c[m],this[m]),c},h.on=function(a,b){if(null==a||null==b)throw new TypeError("@on");return this[q](a).push(b),this},h.off=function(a,b,c){return null!=b?g(this[q](a),b,c):null!=a?this[m][a]=void 0:arguments.length||(this[m]={}),this},h.once=function(a,b){var c=this,d=function(){return c.off(a,d),b.apply(this,arguments)};return d[n]=b,this.on(a,d)},c.applies=d,c});